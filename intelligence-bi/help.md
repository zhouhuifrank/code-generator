## 智能BI
基于Spring Boot+MQ+AI的智能BI分析系统，只需要导入数据集，并输入分析目标，即可使用AI自动生成\
图表和分析结论。

### 功能模块
1. 图表分析功能：输入分析目标和图表类型，并上传分析数据，调用AI自动生成分析图表和结论
2. 图表管理：查看并显示自己的创建的图表，提供相关的标签和搜索功能
3. 数据上传：上传文件和表单在数据库中建表并上传数据
4. AI功能：对接AI进行分析，prompt设计，输入和输出格式控制

### 功能需求
+ 后端自定义Prompt预设模板并封装用户输入的数据和分析诉求，通过对接AI-SDK生成前端图表的json和分析结论，返回给前端渲染
+ 防止用户恶意调用，基于Redisson的RateLimiter实现分布式限流，限制单个用户的访问频率
+ 考虑到单个图表的输入数据量比较大，对每一份原始数据进行分表存储，提高了数据的查询性能
+ 由于AI接口的响应时间较长，自定义线程池+任务队列实现了AIGC的并发执行和异步化，提高用户体验
+ 由于本地任务队列重启后丢失数据，通过MQ来接受任务并持久化任务，AI生成模块消费MQ的消息来处理任务进行解耦，提高系统的可靠性
+ 统计用户生成图表的次数，引入积分系统，消息积分进行分析
+ 使用死信队列来处理异常情况，将图表生成任务设置为失败
+ 考虑到AI生成错误的情况，在后端对AI生成的内容进行提取处理
+ 通过定时任务将生成失败的图表进行补偿
+ 任务执行成功或者失败，给用户发送实时的消息通知